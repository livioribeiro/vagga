containers:
  # php
  php-composer-deps-lock:
    setup:
    - !Alpine v3.3
    - !ComposerDependencies

  # hhvm
  hhvm-base:
    setup:
    - !Ubuntu trusty
    - !UbuntuUniverse
    - !AptTrust keys: [5a16e7281be7a449]
    - !UbuntuRepo
      url: http://dl.hhvm.com/ubuntu
      suite: trusty
      components: [main]
    - !Install [hhvm]
    - !ComposerConfig
      install_runtime: false
      runtime_exe: /usr/bin/hhvm

  hhvm-composer-deps-lock:
    setup:
    - !Container hhvm-base
    - !ComposerDependencies
    environ:
      HHVM_REPO_CENTRAL_PATH: /run/hhvm.hhbc
