containers:
  # php
  php-ubuntu-trusty:
    setup:
    - !Ubuntu trusty
    - !ComposerInstall ["laravel/installer:1.3.0"]

  php-ubuntu-precise:
    setup:
    - !Ubuntu precise
    - !Install [php5-cgi]
    - !ComposerInstall ["nette/tester:1.7.0"]

  php-alpine-3-3:
    setup:
    - !Alpine v3.3
    - !ComposerInstall ["laravel/installer:1.3.0"]

  php-alpine-3-2:
    setup:
    - !Alpine v3.2
    - !ComposerInstall ["laravel/installer:1.3.0"]

  php-composer-deps:
    setup:
    - !Alpine v3.3
    - !ComposerRequirements { dev: false }

  php-composer-dev-deps:
    setup:
    - !Alpine v3.3
    - !ComposerRequirements

  # hhvm
  hhvm-ubuntu-trusty:
    setup:
    - !Ubuntu trusty
    - !ComposerConfig
      engine: hhvm
    - !ComposerInstall ["laravel/installer:1.3.0"]
    environ: &hhvm-environ
      HHVM_REPO_CENTRAL_PATH: /run/hhvm.hhbc

  hhvm-ubuntu-precise:
    setup:
    - !Ubuntu precise
    - !ComposerConfig
      engine: hhvm
    - !ComposerInstall ["nette/tester:1.7.0"]
    environ: *hhvm-environ

  hhvm-composer-deps:
    setup:
    - !Ubuntu trusty
    - !ComposerConfig
      engine: hhvm
    - !ComposerRequirements { dev: false }
    environ: *hhvm-environ

  hhvm-composer-dev-deps:
    setup:
    - !Ubuntu trusty
    - !ComposerConfig
      engine: hhvm
    - !ComposerRequirements
    environ: *hhvm-environ

  hhvm-alpine-fail:
    setup:
    - !Alpine v3.3
    - !ComposerConfig
      engine: hhvm
